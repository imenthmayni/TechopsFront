
<body class="">
  <header class="pc-header">
    <div class="header-wrapper">
        <div class="mr-auto pc-mob-drp">
            <ul class="list-unstyled">
                <li class="dropdown pc-h-item">
                    <a class="pc-head-link active dropdown-toggle arrow-none mr-0" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                        Level
                    </a>
                    <div class="dropdown-menu pc-h-dropdown">
                        <a href="#!" class="dropdown-item">
                            <i class="material-icons-two-tone">account_circle</i>
                            <span>My Account</span>
                        </a>
                        <div class="pc-level-menu">
                            <a href="#!" class="dropdown-item">
                                <i class="material-icons-two-tone">list_alt</i>
                                <span class="float-right"><i data-feather="chevron-right" class="mr-0"></i></span>
                                <span>Level2.1</span>
                            </a>
                            <div class="dropdown-menu pc-h-dropdown">
                                <a href="#!" class="dropdown-item">
                                    <i class="fas fa-circle"></i>
                                    <span>My Account</span>
                                </a>
                                <a href="#!" class="dropdown-item">
                                    <i class="fas fa-circle"></i>
                                    <span>Settings</span>
                                </a>
                                <a href="#!" class="dropdown-item">
                                    <i class="fas fa-circle"></i>
                                    <span>Support</span>
                                </a>
                                <a href="#!" class="dropdown-item">
                                    <i class="fas fa-circle"></i>
                                    <span>Lock Screen</span>
                                </a>
                                <a href="#!" class="dropdown-item">
                                    <i class="fas fa-circle"></i>
                                    <span>Logout</span>
                                </a>
                            </div>
                        </div>
                        <a href="#!" class="dropdown-item">
                            <i class="material-icons-two-tone">settings</i>
                            <span>Settings</span>
                        </a>
                        <a href="#!" class="dropdown-item">
                            <i class="material-icons-two-tone">support</i>
                            <span>Support</span>
                        </a>
                        <a href="#!" class="dropdown-item">
                            <i class="material-icons-two-tone">https</i>
                            <span>Lock Screen</span>
                        </a>
                        <a href="#!" class="dropdown-item">
                            <i class="material-icons-two-tone">chrome_reader_mode</i>
                            <span>Logout</span>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
        <div class="ml-auto">
            <ul class="list-unstyled">
                <li class="dropdown pc-h-item">
                    <a class="pc-head-link dropdown-toggle arrow-none mr-0" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                        <i class="material-icons-two-tone">search</i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right pc-h-dropdown drp-search">
                        <form class="px-3">
                            <div class="form-group mb-0 d-flex align-items-center">
                                <i data-feather="search"></i>
                                <input type="search" class="form-control border-0 shadow-none search-input" placeholder="Search By Leave TYPE. . ."
                                oninput="applyFilter(this.value)">
                            </div>
                        </form>
                    </div>
                </li>
                <li class="dropdown pc-h-item">
                    <a class="pc-head-link dropdown-toggle arrow-none mr-0" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                        <img src="assets/admin/images/icon.png" alt="user-image" class="user-avtar">
                        <span>
                            <span class="user-name">Siwar Djebbi</span>
                            <span class="user-desc">Administrator</span>
                        </span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right pc-h-dropdown">
                        <div class="dropdown-header">
                            <h5 class="text-overflow m-0">
                                <span class="badge bg-light-primary">
                                    <a href="https://therichpost.com" target="_blank">Upgrade to Pro</a>
                                </span>
                            </h5>
                        </div>
                        <a href="auth-signin.html" class="dropdown-item">
                            <i class="material-icons-two-tone">chrome_reader_mode</i>
                            <span>Logout</span>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</header>

    <div class="header-space"></div>
    
<br><br><br><br><br>
      <div class="mb-3"style="margin-top: 20px; margin-left: 300px;">
        <a class="btn btn-secondary" routerLink="../ajout">
          <i class="bi bi-arrow-left"></i> Ajouter un nouveau Congé
        </a>
      </div>
      <div class="mb-3"style="margin-top: 20px; margin-left: 300px;">
        <a class="btn btn-secondary" routerLink="../recruitdisplay">
          <i class="bi bi-arrow-left"></i> Voir la liste des recrutements
        </a>
      </div>

   <div class="table-container">
    <div class="row justify-content-center">
        <div class="col-xl-6 col-md-12">
            <div class="card table-card">
                <div class="card-header">
                    <h5>New Leaves</h5>
                </div>
                <div class="pro-scroll">
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-hover m-b-0">
                                <thead>
                                        <tr>
                                            <th>Leave ID</th>
                                            <th>Start Date</th>
                                            <th>End Date</th>
                                            <th>Leave Type</th>
                                            <th>Status</th>
                                            <th>Reason</th>
                                            <th>Leave Approved</th>
                                            <th>Leave Days Left</th>
                                            <th>ACTIONS</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let leave of leavs">
                                            <td>{{ leave.leaveId }}</td>
                                            <td>{{ leave.leaveStartdate | date: 'dd/MM/yyyy' }}</td>
                                            <td>{{ leave.leaveEnddate | date: 'dd/MM/yyyy' }}</td>
                                            <td>{{ leave.leaveType }}</td>
                                            <td>{{ leave.leaveStatus }}</td>
                                            <td>{{ leave.reason }}</td>
                                            <td>{{ leave.leaveApproved }}</td>
                                            <td>{{ leave.leaveDaysLeft }}</td>
                                            <td class="actionButtons">
                                              <button type="button" class="btn btn-danger mr-2" (click)="deleteLeav(leave.leaveId)">Supprimer</button>
                                              <!--<button type="button" class="btn btn-danger mr-2" (click)="navigateToEditLeav">Modifier</button> -->
                                              <button type="button" class="btn btn-info" (click)="getUserInfo(leave.leaveId)">Prop Congé</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
      function applyFilter(filterValue) {
          const rows = document.querySelectorAll('.table tbody tr');
          rows.forEach(row => {
              const leaveType = row.querySelector('td:nth-child(4)').textContent.toLowerCase();
              if (leaveType.includes(filterValue.toLowerCase())) {
                  row.style.display = '';
              } else {
                  row.style.display = 'none';
              }
          });
      }
  </script>
  
</body>
