<div class="container my-5">
  <div *ngIf="product" class="card custom-card">
    <!-- <div class="card-header bg-dark text-white">
      <h1 class="h3 mb-0">{{ product.title }}</h1> 
    </div> -->

    <div class="card-body ">
      <!-- Colonne pour l'image du produit -->
      <h3 class="card-title mb-4" style="color: #6922cd; font-size: 1.5rem; font-weight: bold;  border-bottom: 2px solid #4524c8; padding-bottom: 10px;">Details of {{ product.title }}</h3>

      <div class="row">
        <div class="col-md-6">
          <div class="card product-info">
            <!-- <img *ngIf="product.image" [src]="product.image" class="card-img-top product-image" alt="Image du produit {{ product.title }}"> -->
            <!-- <img   [src]="getPackPhototUrl(product)" alt="PACK"> -->
            <img [src]="product.image" alt="Product Image" class="card-img-top product-image" >
            <div class="card-body">
              <ul class="list-group list-group-flush">
                <!-- <li class="list-group-item"><strong>Référence:</strong> {{ product.reference }}</li> -->
                <li class="list-group-item"><strong>Prix (TND):</strong> {{ product.price }}</li>
                <li class="list-group-item"><strong>Type de Produit:</strong>
                  <span class="badge bg-success" *ngIf="product.productType === 'RAW_MATERIAL'">Matière Première</span>
                  <span class="badge bg-warning text-dark" *ngIf="product.productType === 'SEMI_FINISHED'">Produit Semi-Fini</span>
                  <span class="badge bg-info" *ngIf="product.productType === 'FINISHED'">Produit Fini</span>
                </li>
                <li class="list-group-item"><strong>Created at:</strong> {{ product.createdAt | date:'longDate' }}</li>

              </ul>
            </div>
          </div>
        </div>
        
        <!-- Colonne pour le code à barres -->
        <div class="col-md-6" >
          <div class="card barcode" text-center>
          
            <div class="card-body" text-center>
              <h3 class="card-title mb-4" style="color: #6922cd; font-size: 1.5rem; font-weight: bold;  border-bottom: 2px solid #4524c8; padding-bottom: 10px;">Bar Code</h3>

              <img *ngIf="barcodeImageUrl" [src]="barcodeImageUrl" alt="Barcode Image" class="barcode-image">
              <div class="mt-3">
                <p class="mb-0" style="font-weight: bold;">{{ product.reference }}</p>
              </div>
            </div>
     
   
            
              <div class="card-body">
                <h3 class="card-title mb-4" style="color: #6922cd; font-size: 1.5rem; font-weight: bold;  border-bottom: 2px solid #4524c8; padding-bottom: 10px;">Stock details</h3>
                <div class="alert alert-success" role="alert" id="success_message"><i class="glyphicon glyphicon-thumbs-up"></i>
                  <strong>Initial stock</strong> {{ product.stock }}
                </div>
                <div class="alert alert-danger" role="alert" id="success_message"><i class="glyphicon glyphicon-thumbs-up"></i>
                  <strong>Current stock:</strong> {{ currentStock }}
                </div>
                
                
            </div>
          </div>
         
        
      </div>

    </div>

      <h3 class="card-title mb-4" style="color: #6922cd; font-size: 1.5rem; font-weight: bold;  border-bottom: 2px solid #4524c8; padding-bottom: 10px;">Description</h3>

      <p class="card-text">{{ product.description }}</p>
      
      <button class="btn btn-secondary" routerLink="/admin/product-list">
        <i class="bi bi-list"></i> Back to list
      </button>
    </div>
  </div>
</div>
